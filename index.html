
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>黒板コードエディター</title>

  <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>

  <style>
    body {
      background-color: #2c2c2c;
      color: #fff;
      font-family: monospace;
      padding: 20px;
    }
    textarea {
      width: 100%;
      height: 200px;
      background-color: #1c1c1c;
      color: #00ff00;
      font-size: 14px;
      border: none;
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 10px;
    }
    button {
      font-size: 16px;
      padding: 10px 20px;
      margin-right: 10px;
    }
    #viewer {
      margin-top: 20px;
      background: #111;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #444;
    }
  </style>
</head>
<body>
  <h1>🧑‍🏫 黒板エディター</h1>
  <p>以下にJavaScriptコードを入力して「実行」を押すと、下に図形が描画されます。</p>

  <textarea id="codeInput">// ここにコードを書いてください（例: 三角形ABC）
const canvas = document.createElement("canvas");
canvas.width = 500;
canvas.height = 300;
viewer.innerHTML = "";
viewer.appendChild(canvas);
const ctx = canvas.getContext("2d");

const A = { x: 100, y: 250 };
const B = { x: 250, y: 50 };
const C = { x: 400, y: 250 };

ctx.strokeStyle = "white";
ctx.lineWidth = 2;
ctx.beginPath();
ctx.moveTo(A.x, A.y);
ctx.lineTo(B.x, B.y);
ctx.lineTo(C.x, C.y);
ctx.closePath();
ctx.stroke();

ctx.fillStyle = "white";
ctx.font = "16px sans-serif";
ctx.fillText("A", A.x - 20, A.y);
ctx.fillText("B", B.x - 10, B.y - 10);
ctx.fillText("C", C.x + 10, C.y);</textarea><br>

  <button onclick="runCode()">▶️ 実行</button>
  <button onclick="clearCode()">🧹 消去</button>

  <div id="viewer"></div>

  <script>
    function runCode() {
      const viewer = document.getElementById("viewer");
      const code = document.getElementById("codeInput").value;
      try {
        new Function("viewer", code)(viewer);
      } catch (e) {
        viewer.innerHTML = '<pre style="color:red;">' + e.message + '</pre>';
      }
    }

    function clearCode() {
      document.getElementById("codeInput").value = "";
      document.getElementById("viewer").innerHTML = "";
    }
  </script>
</body>
</html>
